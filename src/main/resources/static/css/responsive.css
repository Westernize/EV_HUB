/* 모든 화면 크기에서 테이블이 넘치지 않도록 */
#sidebar-detail-table {
    width: 100% !important;
    max-width: 100% !important;
    table-layout: fixed !important;
    box-sizing: border-box !important;
}

#sidebar-detail-table th,
#sidebar-detail-table td {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    box-sizing: border-box !important;
}

/* 충전기 타입 컬럼(2번째)은 줄바꿈 허용 */
#sidebar-detail-table th:nth-child(2),
#sidebar-detail-table td:nth-child(2) {
    white-space: normal !important;
    word-wrap: break-word !important;
    word-break: keep-all !important;
}

/* 예약 버튼이 아닌 다른 셀들은 한 줄로 */
#sidebar-detail-table th:not(:last-child):not(:nth-child(2)),
#sidebar-detail-table td:not(:last-child):not(:nth-child(2)) {
    white-space: nowrap !important;
}

/* 큰 화면 (800px 초과) - 원래 레이아웃 복원 */
@media (min-width: 801px) {
    /* body 레이아웃 복원 */
    body {
        flex-direction: row !important;
        height: 100vh !important;
    }

    /* 사이드바 원래 위치로 복원 */
    #sidebar {
        order: 0 !important;
        flex-direction: row !important;
        border-right: 1px solid #e0e4e7 !important;
        border-top: none !important;
        max-height: none !important;
    }


    /* 사이드바 메뉴 원래 스타일로 복원 */
    #sidebar-menu {
        display: flex !important;
        flex-direction: column !important;
        width: 70px !important;
        min-width: 70px !important;
        padding: 12px 0 !important;
        gap: 8px !important;
        align-items: center !important;
        justify-content: flex-start !important;
    }

    /* 메뉴 아이템 원래 스타일로 복원 */
    .menu-item {
        width: 56px !important;
        height: 56px !important;
        flex-direction: column !important;
        padding: 0 !important;
        gap: 4px !important;
        flex: none !important;
    }

    .menu-icon {
        font-size: 20px !important;
    }

    .menu-text {
        font-size: 11px !important;
        margin-top: 2px !important;
    }

    .menu-logo-top {
        display: flex !important;
    }

    /* 사이드바 컨텐츠 표시 */
    #sidebar-content {
        display: flex !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
    }

    /* 지도 원래 위치로 복원 */
    #map {
        width: auto !important;
        max-width: none !important;
        flex: 1 !important;
        order: 0 !important;
        min-height: auto !important;
        border-left: 1px solid #ddd !important;
        pointer-events: auto !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    /* 컨트롤 버튼 원래 위치로 복원 */
    #custom-map-controls {
        right: 20px !important;
        bottom: 25px !important;
    }

    /* 검색 버튼 원래 위치로 복원 */
    #searchBtn {
        bottom: 25px !important;
        left: calc(50% + 100px) !important;
        transform: translateX(-50%) !important;
    }

    /* 마커 범례 원래 위치로 복원 */
    #marker-legend {
        bottom: 25px !important;
        left: calc(50% + 380px) !important;
        transform: none !important;
        flex-direction: row !important;
        gap: 12px !important;
        align-items: center !important;
    }
}

/* 작은 화면 (개발자 도구 포함) */
@media (max-width: 800px) {
    /* 스크롤바 제거 (지도는 제외) */
    html, body, #sidebar, #sidebar-content, #sidebar-menu {
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
    }

    html::-webkit-scrollbar,
    body::-webkit-scrollbar,
    #sidebar::-webkit-scrollbar,
    #sidebar-content::-webkit-scrollbar,
    #sidebar-menu::-webkit-scrollbar {
        display: none !important;
        width: 0 !important;
        height: 0 !important;
    }

    /* body 레이아웃을 세로로 변경 */
    html {
        overflow-x: hidden !important;
        overflow-y: hidden !important;
        width: 100% !important;
        height: 100% !important;
    }

    html::-webkit-scrollbar {
        display: none !important;
        width: 0 !important;
        height: 0 !important;
    }

    body {
        overflow-x: hidden !important;
        overflow-y: hidden !important;
        flex-direction: column !important;
        height: 100vh !important;
        min-height: 100vh !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    body::-webkit-scrollbar {
        display: none !important;
        width: 0 !important;
        height: 0 !important;
    }

    /* 사이드바 전체를 지도 아래로 이동 */
    #sidebar {
        width: 100% !important;
        max-width: 100% !important;
        order: 2 !important; /* 지도 아래로 */
        display: flex !important;
        flex-direction: row !important; /* 메뉴와 컨텐츠를 가로로 배치 */
        border-right: none !important;
        border-top: 1px solid #e0e4e7 !important;
        max-height: 50vh !important;
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
        box-sizing: border-box !important;
    }

    #sidebar::-webkit-scrollbar {
        display: none !important;
    }

    #sidebar-content {
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
    }

    #sidebar-content::-webkit-scrollbar {
        display: none !important;
    }

    /* 사이드바 메뉴를 가로로 배치 (전체 너비) */
    #sidebar-menu {
        display: flex !important;
        flex-direction: row !important;
        width: 100% !important;
        min-width: 100% !important;
        padding: 8px !important;
        gap: 0 !important;
        border-right: none !important;
        align-items: center !important;
        justify-content: space-around !important;
    }

    /* 메뉴 아이템을 가로로 배치 (균등 분배) */
    .menu-item {
        width: 100% !important;
        height: auto !important;
        flex-direction: column !important;
        padding: 8px 4px !important;
        gap: 4px !important;
        flex: 1 !important;
        justify-content: center !important;
    }

    .menu-icon {
        font-size: 18px !important;
    }

    .menu-text {
        font-size: 12px !important;
        margin-top: 0 !important;
    }

    .menu-logo-top {
        display: none !important;
    }

    /* 사이드바 컨텐츠 영역 숨기기 (메뉴만 표시) */
    #sidebar-content {
        display: none !important;
    }

    /* 사이드바 메뉴는 표시되어야 함 */
    #sidebar-menu {
        display: flex !important;
    }

    /* 지도가 위쪽에 전체 너비로 표시 */
    #map {
        width: 100vw !important;
        max-width: 100vw !important;
        flex: 1 !important;
        order: 1 !important; /* 위쪽에 */
        min-height: 50vh !important;
        position: relative !important;
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
        box-sizing: border-box !important;
        pointer-events: none !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    #map::-webkit-scrollbar {
        display: none !important;
    }

    /* 지도 내부 요소들은 상호작용 가능하도록 */
    #map > * {
        pointer-events: auto !important;
    }

    /* 컨트롤 버튼은 항상 상호작용 가능 */
    #custom-map-controls {
        pointer-events: auto !important;
    }

    /* 마커 범례 위치 조정 (목록 위쪽으로) */
    #marker-legend {
        bottom: 95px !important; /* 버튼 위로 */
        left: 15% !important;
        transform: translateX(-50%) !important;
        max-width: calc(100vw - 100px) !important;
        font-size: 11px !important;
        padding: 6px 10px !important;
        flex-direction: column !important; /* 세로로 배치 */
        gap: 8px !important; /* 각 항목 사이 간격 */
        align-items: flex-start !important;
    }

    /* 범례 내부 각 항목을 한 줄로 */
    #marker-legend > div {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        gap: 5px !important;
        white-space: nowrap !important;
    }

    /* 검색 버튼 위치 조정 (작은 화면에서는 위로) */
    #searchBtn {
        left: 50% !important;
        transform: translateX(-50%) !important;
        max-width: calc(100vw - 100px) !important;
        font-size: 13px !important;
        padding: 10px 20px !important;
        bottom: 75px !important; /* 위로 올림 */
    }

    /* 컨트롤 버튼 위치 조정 */
    #custom-map-controls {
        right: 20px !important;
        bottom: 80px !important;
        z-index: 2147483647 !important;
        position: fixed !important;
        display: flex !important;
        flex-direction: column !important;
        gap: 8px !important;
        pointer-events: auto !important;
        visibility: visible !important;
        opacity: 1 !important;
        max-width: calc(100vw - 40px) !important;
    }

    /* 검색 결과 없음 오버레이 조정 */
    div[class*="no-result"],
    div[class*="NoResult"],
    div[class*="empty"],
    div[id*="no-result"],
    div[id*="NoResult"] {
        max-width: calc(100vw - 80px) !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        margin-right: 0 !important;
    }

    /* 커스텀 오버레이 크기 축소 */
    .custom-overlay {
        width: 280px !important;
        max-width: calc(100vw - 40px) !important;
        font-size: 13px !important;
    }

    .overlay-header {
        padding: 10px 12px !important;
    }

    .overlay-body {
        padding: 12px !important;
        font-size: 13px !important;
    }

    .overlay-name {
        font-size: 16px !important;
        margin-bottom: 4px !important;
    }

    .overlay-addr {
        font-size: 12px !important;
        margin-bottom: 8px !important;
    }

    .overlay-buttons {
        margin-bottom: 8px !important;
        gap: 6px !important;
    }

    .overlay-btn {
        padding: 5px 10px !important;
        font-size: 11px !important;
    }

    .overlay-footer {
        padding-top: 8px !important;
    }

    .overlay-link {
        font-size: 12px !important;
    }
}

/* 매우 작은 화면 */
@media (max-width: 600px) {
    /* 스크롤바 제거 (지도는 제외) */
    html, body, #sidebar, #sidebar-content, #sidebar-menu {
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
    }

    html::-webkit-scrollbar,
    body::-webkit-scrollbar,
    #sidebar::-webkit-scrollbar,
    #sidebar-content::-webkit-scrollbar,
    #sidebar-menu::-webkit-scrollbar {
        display: none !important;
        width: 0 !important;
        height: 0 !important;
    }

    /* html, body 스크롤바 제거 */
    html {
        overflow-x: hidden !important;
        overflow-y: hidden !important;
        width: 100% !important;
        height: 100% !important;
    }

    html::-webkit-scrollbar {
        display: none !important;
        width: 0 !important;
        height: 0 !important;
    }

    body {
        overflow-x: hidden !important;
        overflow-y: hidden !important;
        height: 100vh !important;
        min-height: 100vh !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    body::-webkit-scrollbar {
        display: none !important;
        width: 0 !important;
        height: 0 !important;
    }

    /* 사이드바 전체를 지도 아래로 이동 */
    #sidebar {
        width: 100% !important;
        max-width: 100% !important;
        order: 2 !important;
        display: flex !important;
        flex-direction: row !important; /* 메뉴와 컨텐츠를 가로로 배치 */
        border-right: none !important;
        border-top: 1px solid #e0e4e7 !important;
        max-height: 50vh !important;
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
        box-sizing: border-box !important;
    }

    #sidebar::-webkit-scrollbar {
        display: none !important;
    }

    #sidebar-content {
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
    }

    #sidebar-content::-webkit-scrollbar {
        display: none !important;
    }

    /* 사이드바 메뉴를 가로로 배치 (전체 너비) */
    #sidebar-menu {
        display: flex !important;
        flex-direction: row !important;
        width: 100% !important;
        min-width: 100% !important;
        padding: 6px !important;
        gap: 0 !important;
        border-right: none !important;
        align-items: center !important;
        justify-content: space-around !important;
    }

    /* 메뉴 아이템을 가로로 배치 (균등 분배) */
    .menu-item {
        width: 100% !important;
        height: auto !important;
        flex-direction: column !important;
        padding: 6px 2px !important;
        gap: 3px !important;
        flex: 1 !important;
        justify-content: center !important;
    }

    .menu-icon {
        font-size: 16px !important;
    }

    .menu-text {
        font-size: 11px !important;
        margin-top: 0 !important;
    }

    .menu-logo-top {
        display: none !important;
    }

    /* 사이드바 컨텐츠 영역 숨기기 (메뉴만 표시) */
    #sidebar-content {
        display: none !important;
    }

    /* 사이드바 메뉴는 표시되어야 함 */
    #sidebar-menu {
        display: flex !important;
    }

    /* 지도가 위쪽에 전체 너비로 표시 */
    #map {
        width: 100vw !important;
        max-width: 100vw !important;
        flex: 1 !important;
        order: 1 !important;
        min-height: 50vh !important;
        overflow: hidden !important;
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
        box-sizing: border-box !important;
        pointer-events: none !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    #map::-webkit-scrollbar {
        display: none !important;
    }

    /* 지도 내부 요소들은 상호작용 가능하도록 */
    #map > * {
        pointer-events: auto !important;
    }

    /* 컨트롤 버튼은 항상 상호작용 가능 */
    #custom-map-controls {
        pointer-events: auto !important;
    }

    /* 마커 범례 위치 조정 (목록 위쪽으로) */
    #marker-legend {
        bottom: 90px !important; /* 버튼 위로 */
        font-size: 10px !important;
        padding: 5px 8px !important;
        flex-direction: column !important; /* 세로로 배치 */
        gap: 6px !important; /* 각 항목 사이 간격 */
        align-items: flex-start !important;
    }

    /* 범례 내부 각 항목을 한 줄로 */
    #marker-legend > div {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        gap: 4px !important;
        white-space: nowrap !important;
    }

    /* 검색 버튼 위치 조정 (작은 화면에서는 위로) */
    #searchBtn {
        bottom: 75px !important; /* 위로 올림 */
        left: 50% !important;
        transform: translateX(-50%) !important;
        font-size: 12px !important;
        padding: 8px 16px !important;
    }

    /* 컨트롤 버튼 위치 조정 */
    #custom-map-controls {
        right: 20px !important;
        bottom: 80px !important;
        z-index: 2147483647 !important;
        position: fixed !important;
        display: flex !important;
        flex-direction: column !important;
        gap: 8px !important;
        pointer-events: auto !important;
        visibility: visible !important;
        opacity: 1 !important;
        max-width: calc(100vw - 40px) !important;
    }

    #custom-map-controls button {
        width: 36px !important;
        height: 36px !important;
        font-size: 20px !important;
    }

    /* 커스텀 오버레이 크기 축소 */
    .custom-overlay {
        width: 260px !important;
        max-width: calc(100vw - 30px) !important;
        font-size: 12px !important;
    }

    .overlay-header {
        padding: 8px 10px !important;
    }

    .overlay-body {
        padding: 10px !important;
        font-size: 12px !important;
    }

    .overlay-name {
        font-size: 15px !important;
        margin-bottom: 3px !important;
    }

    .overlay-addr {
        font-size: 11px !important;
        margin-bottom: 6px !important;
    }

    .overlay-buttons {
        margin-bottom: 6px !important;
        gap: 5px !important;
    }

    .overlay-btn {
        padding: 4px 8px !important;
        font-size: 10px !important;
    }

    .overlay-footer {
        padding-top: 6px !important;
    }

    .overlay-link {
        font-size: 11px !important;
    }
}

